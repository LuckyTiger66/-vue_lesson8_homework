{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/cart/CartOrder.vue","webpack:///./src/views/cart/CartOrder.vue?376a"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","src","alt","width","order","products","item","key","product","imageUrl","title","category","qty","$filters","currency","total","user","name","address","email","payment_method","type","payment","loadingStatus","loadingItem","data","methods","showAlert","res","$swal","message","getOrder","id","$route","params","url","$http","then","catch","console","log","post","success","$router","push","mounted","clear","render"],"mappings":"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","file":"js/chunk-70d5d9aa.37c20051.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <h2 class=\"text-center pt-4\">完成下訂</h2>\n  <figure class=\"my-5 text-center mx-auto\">\n    <img\n      class=\"img-fluid\"\n      src=\"https://i.imgur.com/AC7oLKq.png\"\n      alt=\"step4 完成下訂\"\n    />\n  </figure>\n\n  <h2 class=\"text-center\">購買品項</h2>\n  <table class=\"p-table table align-middle w-md-50 mx-auto\">\n    <thead class=\"p-table__foot\">\n      <tr class=\"text-light\">\n        <th width=\"40%\" class=\"text-center fs-7 fs-sm-6\">商品</th>\n        <th class=\"p-table__th--num text-center fs-7 fs-sm-6\">數量</th>\n      </tr>\n    </thead>\n    <tbody class=\"p-table__body\">\n      <tr v-for=\"item in order.products\" :key=\"item\">\n        <td>\n          <figure class=\"d-sm-flex align-items-center\">\n            <img\n              class=\"product-img\"\n              :src=\"item.product.imageUrl\"\n              :alt=\"item.product.title\"\n            />\n            <figcaption class=\"ps-2\">\n              <span class=\"badge bg-primary\">{{ item.product.category }}</span>\n              <p class=\"fs-7 fs-sm-6\">{{ item.product.title }}</p>\n            </figcaption>\n          </figure>\n        </td>\n        <td class=\"text-center\">\n          {{ item.qty }}\n        </td>\n      </tr>\n    </tbody>\n    <tfoot class=\"p-table__head\">\n      <tr class=\"text-light\">\n        <td class=\"text-end\">總計</td>\n        <td class=\"text-center\">{{ $filters.currency(order.total) }} NTD</td>\n      </tr>\n    </tfoot>\n  </table>\n\n  <h2 class=\"text-center\">客戶資訊</h2>\n  <div class=\"row justify-content-center\">\n    <dl class=\"col-md-6\" v-if=\"order.user\">\n      <dt>姓名：</dt>\n      <dd>{{ order.user.name }}</dd>\n      <dt>寄送地址：</dt>\n      <dd>{{ order.user.address }}</dd>\n      <dt>E-mail信箱：</dt>\n      <dd>{{ order.user.email }}</dd>\n      <dt>付款方式：</dt>\n      <dd>{{ order.user.payment_method }}</dd>\n    </dl>\n  </div>\n\n  <div class=\"d-flex justify-content-center mb-4\">\n    <button type=\"button\" class=\"btn btn-primary\" @click=\"payment()\">\n      <span\n        v-if=\"loadingStatus.loadingItem === 3\"\n        class=\"material-icons animate-spin\"\n      >\n        cached\n      </span>\n      結帳付款\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loadingStatus: {\n        loadingItem: \"\",\n      },\n      order: {},\n    };\n  },\n  methods: {\n    showAlert(res) {\n      this.$swal(res.data.message);\n    },\n    getOrder() {\n      const id = this.$route.params.id;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${id}`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.order = res.data.order;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    payment() {\n      this.loadingStatus.loadingItem = 3;\n      const id = this.$route.params.id;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${id}`;\n      this.$http\n        .post(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.loadingStatus.loadingItem = \"\";\n            this.showAlert(res);\n            this.$router.push(`/cartcompleted/${id}`);\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n  mounted() {\n    console.clear();\n    this.getOrder();\n  },\n};\n</script>\n","import { render } from \"./CartOrder.vue?vue&type=template&id=67aaee86\"\nimport script from \"./CartOrder.vue?vue&type=script&lang=js\"\nexport * from \"./CartOrder.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}