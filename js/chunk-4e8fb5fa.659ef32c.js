(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e8fb5fa"],{2532:function(t,e,a){"use strict";var c=a("23e7"),n=a("5a34"),o=a("1d80"),r=a("ab13");c({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(o(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"3d4f":function(t,e,a){"use strict";var c=function(t){return{all:t=t||new Map,on:function(e,a){var c=t.get(e);c?c.push(a):t.set(e,[a])},off:function(e,a){var c=t.get(e);c&&(a?c.splice(c.indexOf(a)>>>0,1):t.set(e,[]))},emit:function(e,a){var c=t.get(e);c&&c.slice().map((function(t){t(a)})),(c=t.get("*"))&&c.slice().map((function(t){t(e,a)}))}}},n=c();e["a"]=n},"44e7":function(t,e,a){var c=a("861d"),n=a("c6b6"),o=a("b622"),r=o("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==n(t))}},"466d":function(t,e,a){"use strict";var c=a("d784"),n=a("825a"),o=a("50c4"),r=a("1d80"),i=a("8aa5"),s=a("14c3");c("match",(function(t,e,a){return[function(e){var a=r(this),c=void 0==e?void 0:e[t];return void 0!==c?c.call(e,a):new RegExp(e)[t](String(a))},function(t){var c=a(e,this,t);if(c.done)return c.value;var r=n(this),l=String(t);if(!r.global)return s(r,l);var d=r.unicode;r.lastIndex=0;var u,b=[],v=0;while(null!==(u=s(r,l))){var f=String(u[0]);b[v]=f,""===f&&(r.lastIndex=i(l,o(r.lastIndex),d)),v++}return 0===v?null:b}]}))},"4de4":function(t,e,a){"use strict";var c=a("23e7"),n=a("b727").filter,o=a("1dde"),r=o("filter");c({target:"Array",proto:!0,forced:!r},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,a){var c=a("44e7");t.exports=function(t){if(c(t))throw TypeError("The method doesn't accept regular expressions");return t}},"9fe6":function(t,e,a){"use strict";a("caad"),a("2532"),a("a434");e["a"]={methods:{saveLocalStorage:function(t){var e=JSON.stringify(t);localStorage.setItem("Favorite",e)},getLocalStorage:function(){return JSON.parse(localStorage.getItem("Favorite"))},addMyFavorite:function(t){this.myFavorite.includes(t)?this.myFavorite.splice(this.myFavorite.indexOf(t),1):this.myFavorite.push(t),this.saveLocalStorage(this.myFavorite),this.emitter.emit("update-favorite")}}}},a434:function(t,e,a){"use strict";var c=a("23e7"),n=a("23cb"),o=a("a691"),r=a("50c4"),i=a("7b0b"),s=a("65f0"),l=a("8418"),d=a("1dde"),u=d("splice"),b=Math.max,v=Math.min,f=9007199254740991,p="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var a,c,d,u,h,g,m=i(this),O=r(m.length),j=n(t,O),N=arguments.length;if(0===N?a=c=0:1===N?(a=0,c=O-j):(a=N-2,c=v(b(o(e),0),O-j)),O+a-c>f)throw TypeError(p);for(d=s(m,c),u=0;u<c;u++)h=j+u,h in m&&l(d,u,m[h]);if(d.length=c,a<c){for(u=j;u<O-c;u++)h=u+c,g=u+a,h in m?m[g]=m[h]:delete m[g];for(u=O;u>O-c+a;u--)delete m[u-1]}else if(a>c)for(u=O-c;u>j;u--)h=u+c-1,g=u+a-1,h in m?m[g]=m[h]:delete m[g];for(u=0;u<a;u++)m[u+j]=arguments[u+2];return m.length=O-c+a,d}})},ab13:function(t,e,a){var c=a("b622"),n=c("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,"/./"[t](e)}catch(c){}}return!1}},b6d4:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),n={class:"bg-cover--01"},o={class:"nav-header"},r={"aria-label":"breadcrumb"},i={class:"breadcrumb"},s={class:"breadcrumb-item"},l=Object(c["createTextVNode"])("首頁"),d=Object(c["createVNode"])("li",{class:"breadcrumb-item text-light active","aria-current":"page"}," 收藏清單 ",-1),u={class:"container-fluid pb-5 bg-01"},b={id:"main",class:"container-lg content"},v=Object(c["createVNode"])("h2",{class:"pt-4 text-light"},"收藏清單",-1),f={class:"mt-4 text-end text-light"},p=Object(c["createTextVNode"])(" 您共有 "),h={id:"productCount"},g=Object(c["createTextVNode"])(" 件收藏商品 "),m={class:"ms-auto"},O={class:"\n              row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4\n              g-3\n              list-unstyled\n            "},j={class:"card h-100"},N={class:"card-body"},V={class:"card-title"},x={class:"card-text"},y={key:0,class:"material-icons animate-spin"},k=Object(c["createTextVNode"])(" 加到購物車 "),w={class:"d-flex my-4"},C=Object(c["createTextVNode"])("返回");function F(t,e,a,F,S,B){var T=Object(c["resolveComponent"])("Navbar"),I=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[Object(c["createVNode"])("header",o,[Object(c["createVNode"])(T)]),Object(c["createVNode"])("nav",r,[Object(c["createVNode"])("ol",i,[Object(c["createVNode"])("li",s,[Object(c["createVNode"])(I,{class:"text-light",to:"/"},{default:Object(c["withCtx"])((function(){return[l]})),_:1})]),d])]),Object(c["createVNode"])("div",u,[Object(c["createVNode"])("main",b,[v,Object(c["createVNode"])("p",f,[p,Object(c["createVNode"])("span",h,Object(c["toDisplayString"])(this.favoriteProduct.length),1),g]),Object(c["createVNode"])("div",m,[Object(c["createVNode"])("ul",O,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(S.favoriteProduct,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:t,class:"col"},[Object(c["createVNode"])("div",j,[Object(c["createVNode"])(I,{to:"/product/".concat(t.id),class:"text-decoration-none stretched-link h-100"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("img",{src:t.imageUrl,class:"card-img-top",alt:"item.title"},null,8,["src"]),Object(c["createVNode"])("div",N,[Object(c["createVNode"])("h5",V,Object(c["toDisplayString"])(t.title),1),Object(c["createVNode"])("p",x,Object(c["toDisplayString"])(t.price)+"NTD",1)])]})),_:2},1032,["to"]),Object(c["createVNode"])("button",{onClick:function(e){return B.addCart(t.id)},type:"button",disabled:S.loadingStatus.loadingItem===t.id+1,class:"btn btn-primary btn-sm card-lick__button"},[S.loadingStatus.loadingItem===t.id+1?(Object(c["openBlock"])(),Object(c["createBlock"])("span",y," cached ")):Object(c["createCommentVNode"])("",!0),k],8,["onClick","disabled"])])])})),128))])]),Object(c["createVNode"])("div",w,[Object(c["createVNode"])(I,{class:"btn btn-primary",to:"/products"},{default:Object(c["withCtx"])((function(){return[C]})),_:1})])])])])}a("159b"),a("99af"),a("4de4"),a("ac1f"),a("466d");var S=a("d178"),B=a("9fe6"),T={props:["propsCategory"],data:function(){return{loadingStatus:{loadingItem:""},products:[],product:{},cart:{},favoriteProduct:[],myFavorite:this.getLocalStorage()||[],selectCategory:""}},components:{Navbar:S["a"]},mixins:[B["a"]],inject:["emitter"],methods:{showAlert:function(t){this.$swal(t.data.message)},getFavorite:function(){var t=this;this.myFavorite=this.getLocalStorage()||[],this.favoriteProduct=[],this.myFavorite.length>0&&this.myFavorite.forEach((function(e){var a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("sean6","/product/").concat(e);t.$http.get(a).then((function(e){e.data.success&&t.favoriteProduct.push(e.data.product)})).catch((function(t){return t}))}))},addCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loadingStatus.loadingItem=t+1;var c={data:{product_id:t,qty:a}},n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("sean6","/cart");this.$http.post(n,c).then((function(t){e.loadingStatus.loadingItem="",e.emitter.emit("update-cart"),e.showAlert(t)})).catch((function(t){console.log(t)}))}},computed:{filterProducts:function(){var t=this;return this.products.filter((function(e){return e.category.match(t.selectCategory)}))}},mounted:function(){console.clear(),this.getFavorite()}};T.render=F;e["default"]=T},caad:function(t,e,a){"use strict";var c=a("23e7"),n=a("4d64").includes,o=a("44d2");c({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d178:function(t,e,a){"use strict";var c=a("7a23"),n={class:"\n      navbar navbar-expand-lg navbar-dark\n      bg-dark\n      position-fixed\n      header-nav\n      w-100\n      nav-bar\n    ",style:{"z-index":"10"}},o={class:"container-fluid"},r={class:"w-auto"},i=Object(c["createVNode"])("img",{src:"https://i.imgur.com/p7Vsu83.png",alt:"WECARD",width:"50",class:"d-inline-block align-text-top"},null,-1),s={class:"navbar-nav ms-auto d-lg-none pe-2 flex-row align-items-center"},l={key:0,class:"nav-item me-3"},d={class:"material-icons position-relative h1"},u=Object(c["createTextVNode"])(" favorite "),b={key:0,class:"\n                  position-absolute\n                  top-0\n                  start-100\n                  translate-middle\n                  badge\n                  rounded-pill\n                  bg-secondary\n                  font-monospace\n                  lh-xs\n                "},v=Object(c["createVNode"])("span",{class:"visually-hidden"},"unread messages",-1),f={class:"nav-item me-2"},p={class:"material-icons position-relative h1"},h=Object(c["createTextVNode"])(" shopping_cart "),g={key:0,class:"\n                  position-absolute\n                  top-0\n                  start-100\n                  translate-middle\n                  badge\n                  rounded-pill\n                  bg-secondary\n                  font-monospace\n                  lh-xs\n                "},m=Object(c["createVNode"])("span",{class:"visually-hidden"},"unread messages",-1),O=Object(c["createVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["createVNode"])("span",{class:"navbar-toggler-icon"})],-1),j={class:"collapse navbar-collapse justify-content-end",id:"navbarNavDropdown"},N={class:"navbar-nav align-items-center"},V={class:"nav-item"},x=Object(c["createTextVNode"])("首頁"),y={class:"nav-item"},k=Object(c["createTextVNode"])("主打商品"),w={class:"nav-item"},C=Object(c["createTextVNode"])("最新消息"),F={key:0,class:"nav-item text-center d-none d-lg-block"},S={class:"material-icons position-relative",style:{"font-size":"2.8rem"}},B=Object(c["createTextVNode"])(" favorite "),T={key:0,class:"\n                    position-absolute\n                    top-0\n                    start-100\n                    translate-middle\n                    badge\n                    rounded-pill\n                    bg-secondary\n                    font-monospace\n                    lh-xs\n                  "},I=Object(c["createVNode"])("span",{class:"visually-hidden"},"unread messages",-1),_={class:"nav-item text-center d-none d-lg-block"},D={class:"material-icons position-relative",style:{"font-size":"2.8rem"}},L=Object(c["createTextVNode"])(" shopping_cart "),P={key:0,class:"\n                    position-absolute\n                    top-0\n                    start-100\n                    translate-middle\n                    badge\n                    rounded-pill\n                    bg-secondary\n                    font-monospace\n                    lh-xs\n                  "},E=Object(c["createVNode"])("span",{class:"visually-hidden"},"unread messages",-1);function A(t,e,a,A,M,$){var J=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("nav",n,[Object(c["createVNode"])("div",o,[Object(c["createVNode"])("h1",r,[Object(c["createVNode"])(J,{class:"navbar-brand",to:"/"},{default:Object(c["withCtx"])((function(){return[i]})),_:1})]),Object(c["createVNode"])("ul",s,[M.myFavorite.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("li",l,[Object(c["createVNode"])(J,{class:"nav-link text-decoration-none",to:"/favorite"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("span",d,[u,M.myFavorite.length?(Object(c["openBlock"])(),Object(c["createBlock"])("span",b,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(M.myFavorite.length)+" ",1),v])):Object(c["createCommentVNode"])("",!0)])]})),_:1})])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("li",f,[Object(c["createVNode"])(J,{class:"nav-link text-decoration-none",to:"/cart"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("span",p,[h,M.cartItems?(Object(c["openBlock"])(),Object(c["createBlock"])("span",g,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(M.cartItems)+" ",1),m])):Object(c["createCommentVNode"])("",!0)])]})),_:1})])]),O,Object(c["createVNode"])("div",j,[Object(c["createVNode"])("ul",N,[Object(c["createVNode"])("li",V,[Object(c["createVNode"])(J,{class:"nav-link text-decoration-none fs-4",to:"/"},{default:Object(c["withCtx"])((function(){return[x]})),_:1})]),Object(c["createVNode"])("li",y,[Object(c["createVNode"])(J,{class:"nav-link text-decoration-none fs-4",to:"/products"},{default:Object(c["withCtx"])((function(){return[k]})),_:1})]),Object(c["createVNode"])("li",w,[Object(c["createVNode"])(J,{class:"nav-link text-decoration-none fs-4",to:"/articles"},{default:Object(c["withCtx"])((function(){return[C]})),_:1})]),M.myFavorite.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("li",F,[Object(c["createVNode"])(J,{class:"nav-link text-decoration-none",to:"/favorite"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("span",S,[B,M.myFavorite.length?(Object(c["openBlock"])(),Object(c["createBlock"])("span",T,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(M.myFavorite.length)+" ",1),I])):Object(c["createCommentVNode"])("",!0)])]})),_:1})])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("li",_,[Object(c["createVNode"])(J,{class:"nav-link text-decoration-none",to:"/cart"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("span",D,[L,M.cartItems?(Object(c["openBlock"])(),Object(c["createBlock"])("span",P,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(M.cartItems)+" ",1),E])):Object(c["createCommentVNode"])("",!0)])]})),_:1})])])])])])}a("99af"),a("159b");var M=a("3d4f"),$=a("9fe6"),J={data:function(){return{cartItems:"",favoriteProduct:[],myFavorite:this.getLocalStorage()||[]}},mixins:[$["a"]],methods:{getCartItem:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("sean6","/cart");this.$http.get(e).then((function(e){e.data.success&&(t.cartItems=e.data.data.carts.length)})).catch((function(t){return t}))},getFavorite:function(){var t=this;this.myFavorite=this.getLocalStorage()||[],this.favoriteProduct=[],this.myFavorite.length>0&&this.myFavorite.forEach((function(e){var a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("sean6","/product/").concat(e);t.$http.get(a).then((function(e){e.data.success&&t.favoriteProduct.push(e.data.product)})).catch((function(t){return t}))}))}},mounted:function(){var t=this;this.getCartItem(),this.getFavorite(),M["a"].on("update-cart",(function(){t.getCartItem()})),M["a"].on("update-favorite",(function(){t.myFavorite=t.getLocalStorage(),t.getFavorite()}))},unmounted:function(){var t=this;M["a"].off("update-cart",(function(){t.getCartItem()})),M["a"].off("update-favorite",(function(){t.myFavorite=t.getLocalStorage(),t.getFavorite()}))}};J.render=A;e["a"]=J}}]);
//# sourceMappingURL=chunk-4e8fb5fa.659ef32c.js.map